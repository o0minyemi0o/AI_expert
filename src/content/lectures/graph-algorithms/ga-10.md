# 랜덤 그래프와 네트워크 모델

## 왜 네트워크 모델이 중요한가

실제 네트워크(소셜, 웹, 생물)는 어떤 구조적 규칙을 따르는가? "6단계의 분리(Six Degrees of Separation)"는 왜 성립하는가? 왜 소수의 노드가 압도적으로 많은 연결을 갖는가? 이러한 질문에 답하려면 네트워크의 **수학적 모델**이 필요합니다. 모델을 이해하면 ga-09의 커뮤니티 탐지 알고리즘의 벤치마크를 만들 수 있고, ga-11의 대규모 그래프 처리를 위한 합성 데이터를 생성할 수 있습니다.

> **핵심 직관**: 실제 네트워크의 세 가지 보편적 성질이 있습니다. **짧은 경로(Small World)**, **높은 군집 계수(Clustering)**, **멱법칙 차수 분포(Power Law)**. 어떤 모델도 이 세 가지를 동시에 완벽히 재현하지 못하며, 각 모델은 서로 다른 성질에 초점을 맞춥니다.

## 1. 실제 네트워크의 경험적 성질

```
실제 네트워크의 보편적 특성:

  1. 좁은 세상 (Small World):
     평균 경로 길이 ∝ log N
     소셜 네트워크: ~6단계, 웹: ~19 클릭

  2. 높은 군집 계수 (High Clustering):
     C = (실제 삼각형 수) / (가능한 삼각형 수)
     "내 친구의 친구도 내 친구일 확률이 높다"
     실제: C ≈ 0.1~0.5, 랜덤 그래프: C ≈ d/N ≈ 0

  3. 멱법칙 차수 분포 (Power Law):
     P(k) ∝ k^{-γ}, 보통 2 < γ < 3
     소수의 허브 노드가 대부분의 연결을 가짐
     → 로그-로그 그래프에서 직선

  4. 커뮤니티 구조 (ga-09):
     밀집된 내부, 희소한 외부

  5. 핵-주변부 구조 (Core-Periphery):
     고차수 핵(core)과 저차수 주변부(periphery)

  | 성질 | 소셜 | 웹 | 생물 | 인프라 |
  |------|------|-----|------|-------|
  | Small World | ✓ | ✓ | ✓ | △ |
  | 높은 군집 | ✓ | ✓ | ✓ | △ |
  | 멱법칙 | ✓ | ✓ | ✓ | ✗ |
  | 커뮤니티 | ✓ | ✓ | ✓ | △ |
```

## 2. Erdős-Rényi 랜덤 그래프

```
G(n, p) 모델:

  n개 노드, 각 노드 쌍을 독립적으로 확률 p로 연결

  성질:
  ├─ 기대 간선 수: p × n(n-1)/2
  ├─ 기대 차수: d = p(n-1)
  ├─ 차수 분포: 이항분포 → 포아송(n 클 때)
  │   P(k) ≈ e^{-d} d^k / k!
  ├─ 군집 계수: C = p ≈ d/n (매우 작음!)
  └─ 평균 경로 길이: O(log n / log d)

  상전이 (Phase Transition):
  p = 1/n 근처에서 극적인 변화

  p < 1/n: 작은 연결 요소들만 존재, 최대 O(log n)
  p = 1/n: 거대 요소(Giant Component) 출현!
           크기 ∝ n^{2/3}
  p > 1/n: 거대 요소가 O(n) 크기로 성장
  p > ln(n)/n: 그래프가 연결됨 (모든 노드 하나의 요소)

  이 상전이는 pt-09의 퍼콜레이션 이론과 연결됩니다.
```

```
Erdős-Rényi의 한계:

  ✓ Small World: O(log n) 경로 — 재현
  ✗ 높은 군집: C = p ≈ d/n — 재현 실패
  ✗ 멱법칙: 포아송 분포 — 재현 실패
  ✗ 커뮤니티: 균질한 구조 — 재현 실패

  → 가장 단순한 기준 모델 (null model)
  → 실제 네트워크와의 차이가 "구조"를 의미
  → ga-09의 모듈러리티가 이 모델을 기준으로 정의됨
```

> **핵심 직관**: Erdős-Rényi 모델의 가장 중요한 기여는 **상전이(phase transition)** 발견입니다. 간선 확률이 $1/n$을 넘는 순간 거대 연결 요소가 갑자기 출현합니다. 이 임계 현상은 전염병 확산, 네트워크 견고성 등 다양한 문제의 원형입니다.

## 3. Watts-Strogatz Small World 모델

```
Small World Model:

  목표: 높은 군집 + 짧은 경로를 동시에 재현

  구성:
  1. 원형 격자: n개 노드, 각 노드가 좌우 K/2개와 연결
     → C 높음, 경로 길이 ∝ n/K (김)

  2. 랜덤 재배선: 각 간선을 확률 p로 랜덤 노드에 재연결
     p = 0: 원래 격자 (C 높음, 경로 김)
     p = 1: 랜덤 그래프 (C 낮음, 경로 짧음)

  마법의 영역: p ≈ 0.01~0.1
  → C는 여전히 높고, 경로 길이는 급격히 줄어듦!

  재배선 확률과 성질:
  p = 0.0: L = n/(2K),     C = 3(K-2)/(4(K-1))
  p = 0.01: L ≈ log(n),    C ≈ C(0)×0.95
  p = 0.1:  L ≈ log(n),    C ≈ C(0)×0.5
  p = 1.0:  L ≈ log(n)/log(K), C ≈ K/n

  소수의 "지름길(shortcut)"이 경로를 극적으로 단축!
```

```
Small World 현상의 직관:

  격자 위의 소수의 장거리 연결 → "6단계 분리"

  지역적 구조(격자) + 전역적 연결(랜덤) = Small World

  ✓ Small World: 재현
  ✓ 높은 군집: 재현
  ✗ 멱법칙: 차수 분포가 거의 균일 — 재현 실패
  ✗ 허브 노드: 없음 — 재현 실패
```

## 4. Barabási-Albert 선호적 연결 모델

```
Preferential Attachment (선호적 연결):

  "부자가 더 부자가 된다" = "많이 연결된 노드에 더 연결"

  과정:
  1. 초기 m₀개 노드 (연결된 상태)
  2. 새 노드 추가 시, m개 기존 노드에 연결
  3. 기존 노드 i에 연결될 확률 ∝ kᵢ (i의 현재 차수)

  Π(kᵢ) = kᵢ / Σⱼ kⱼ

  결과:
  차수 분포: P(k) ∝ k^{-3} (γ = 3)
  멱법칙! 소수의 허브 노드 자연 발생

  예: 웹사이트 성장
  t=1: A(1), B(1), C(1) → 균등
  t=2: D가 추가, A에 연결 → A(2), B(1), C(1)
  t=3: E가 추가, 확률: A가 2배 높음 → A(3)...
  → A가 허브로 성장 (Rich get richer)
```

```
BA 모델의 특성:

  ✓ 멱법칙 차수 분포: γ = 3 (고정)
  ✓ Small World: L ∝ log(n)/log(log(n))
  ✗ 높은 군집: C ∝ (log n)²/n → 작음
  ✗ 커뮤니티 구조: 명확하지 않음

  변형:
  ├─ 비선형 선호적 연결: Π(k) ∝ k^α
  │   α > 1: 승자 독식 (하나의 슈퍼허브)
  │   α < 1: 더 균등한 분포
  │   α = 1: 표준 BA (γ = 3)
  ├─ 적합도 모델: Π(k) ∝ ηᵢ × kᵢ (노드별 고유 적합도)
  └─ 노화 모델: 오래된 노드의 매력 감소
```

> **핵심 직관**: BA 모델이 보여주는 핵심은 **"성장 + 선호적 연결 = 멱법칙"**이라는 메커니즘입니다. 새 노드가 추가되는 성장 과정에서, 인기 있는 노드에 더 연결되는 피드백 루프가 자연스럽게 허브를 만들어냅니다. 이 원리가 웹, 논문 인용, 소셜 네트워크에서 관찰됩니다.

## 5. 모델 비교와 선택

| 모델 | Small World | 군집 | 멱법칙 | 커뮤니티 | 핵심 메커니즘 |
|------|:--------:|:----:|:-----:|:-------:|------------|
| Erdős-Rényi | ✓ | ✗ | ✗ | ✗ | 독립 랜덤 연결 |
| Watts-Strogatz | ✓ | ✓ | ✗ | △ | 격자 + 재배선 |
| Barabási-Albert | ✓ | ✗ | ✓ | ✗ | 성장 + 선호적 연결 |
| SBM (ga-09) | △ | △ | ✗ | ✓ | 블록 구조 |
| Config. Model | ✓ | ✗ | ✓* | ✗ | 차수열 보존 |

```
Configuration Model (구성 모델):

  주어진 차수열(degree sequence)을 정확히 재현
  각 노드에 "반간선(stub)" dᵢ개 부여 → 랜덤 매칭

  용도:
  - 실제 네트워크의 null model
  - "차수 분포만으로 설명되는가?" 검증
  - ga-09 모듈러리티의 기대값 계산에 사용

  멱법칙 차수열 입력 → 멱법칙 보존
  하지만 군집/커뮤니티는 없음
  → 차수 분포 이외의 구조를 탐지하는 기준선
```

## 6. 실전 응용

```
응용 1: 네트워크 견고성 (Robustness)
  랜덤 공격 vs 표적 공격:
  ├─ ER 그래프: 랜덤/표적 모두 비슷하게 저항
  ├─ BA 그래프: 랜덤에 강하지만 허브 공격에 취약!
  └─ 인터넷 라우터: BA형 → 핵심 라우터 보호 중요

응용 2: 전염병 모델링
  SIR/SIS 모델에서 네트워크 구조가 전파에 영향
  멱법칙 네트워크: 전염 임계값 → 0 (항상 전파 가능!)
  → 허브 노드 백신 접종이 효과적 (pt-09 퍼콜레이션)

응용 3: 합성 데이터 생성
  알고리즘 벤치마크를 위한 그래프 생성
  ├─ LFR 벤치마크: 멱법칙 + 커뮤니티 + 조절 가능 혼합
  ├─ SBM: 커뮤니티 탐지 알고리즘 평가 (ga-09)
  └─ BA + 커뮤니티: 현실적 합성 소셜 네트워크

응용 4: 링크 예측
  "앞으로 어떤 간선이 생길까?"
  선호적 연결 → 차수 곱(common neighbor)이 유력
  → ga-12의 GNN이 더 정교한 예측 제공
```

네트워크 모델은 ga-09의 커뮤니티 탐지 벤치마크를 제공하며, ga-11의 대규모 그래프 처리와 ga-12의 GNN 학습에 합성 데이터로 활용됩니다.

## 핵심 정리

- 실제 네트워크는 **짧은 경로, 높은 군집, 멱법칙 차수 분포**라는 세 보편적 성질을 보이며, 단일 모델로 모두 재현하기 어렵습니다
- **Erdős-Rényi** $G(n,p)$는 가장 단순한 기준 모델이며, $p = 1/n$에서 거대 연결 요소가 출현하는 **상전이**가 핵심입니다
- **Watts-Strogatz**는 격자 + 랜덤 재배선으로 높은 군집과 짧은 경로를 동시에 재현합니다
- **Barabási-Albert**는 성장 + 선호적 연결로 $P(k) \propto k^{-3}$ 멱법칙을 만들며, "부자가 더 부자" 현상의 수학적 모델입니다
- Configuration Model은 차수열만 보존하는 null model로, 모듈러리티 계산과 "차수 이외의 구조" 검증에 사용됩니다
